import { useEffect } from "react";
import { WebApp } from "../../sdk";
var mainButton = WebApp.MainButton;
var _a = WebApp.themeParams, button_color = _a.button_color, button_text_color = _a.button_text_color;
export var MainButton = function (_a) {
    var disabled = _a.disabled, color = _a.color, textColor = _a.textColor, text = _a.text, onClick = _a.onClick, progress = _a.progress;
    useEffect(function () {
        return function () {
            mainButton.hide();
            mainButton.enable();
            mainButton.hideProgress();
            mainButton.setParams({
                color: button_color,
                text_color: button_text_color,
            });
        };
    }, []);
    useEffect(function () {
        if (typeof progress === "boolean") {
            if (progress) {
                mainButton.showProgress();
                mainButton.disable();
            }
            else {
                mainButton.hideProgress();
            }
        }
        if (typeof disabled === "boolean") {
            disabled || progress ? mainButton.disable() : mainButton.enable();
        }
    }, [disabled, progress]);
    useEffect(function () {
        if (color || textColor) {
            mainButton.setParams({ color: color, text_color: textColor });
        }
    }, [color, textColor]);
    useEffect(function () {
        if (text) {
            mainButton.setText(text);
            !mainButton.isVisible && mainButton.show();
        }
        else if (mainButton.isVisible) {
            mainButton.hide();
        }
    }, [text]);
    useEffect(function () {
        if (onClick) {
            WebApp.MainButton.onClick(onClick);
            return function () {
                WebApp.MainButton.offClick(onClick);
            };
        }
    }, [onClick]);
    return null;
};
//# sourceMappingURL=MainButton.js.map